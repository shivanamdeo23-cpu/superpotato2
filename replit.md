# StrongHer - Bone Health Resources Application

## Overview

StrongHer is a full-stack web application designed to provide comprehensive bone health resources for women with the mission of creating "Fracture-Free Futures for Women." The application features a React frontend with a Node.js/Express backend, built with TypeScript and modern web technologies. It includes multilingual support, risk assessment tools, and healthcare provider directory functionality.

## User Preferences

Preferred communication style: Simple, everyday language.
Prefers simple, manual translation management using JSON files rather than complex systems.

## System Architecture

### Frontend Architecture
- **Framework**: React 18 with TypeScript
- **Build Tool**: Vite for fast development and optimized builds
- **Styling**: Tailwind CSS with shadcn/ui component library
- **State Management**: TanStack Query for server state management
- **Routing**: Wouter for lightweight client-side routing
- **UI Components**: Radix UI primitives with custom styling

### Backend Architecture
- **Runtime**: Node.js with Express.js framework
- **Language**: TypeScript with ES modules
- **Database**: PostgreSQL with Drizzle ORM
- **Database Provider**: Neon Database (serverless PostgreSQL)
- **API Pattern**: RESTful APIs with JSON responses

### Project Structure
- `client/` - React frontend application
- `server/` - Express backend application
- `shared/` - Shared TypeScript schemas and types
- `migrations/` - Database migration files (generated by Drizzle)

## Key Components

### Database Schema
The application uses PostgreSQL with the following main tables:
- **users**: User authentication and profiles
- **contentSections**: Multilingual content sections organized by category
- **resources**: Educational resources with multilingual support
- **healthcareProviders**: Directory of healthcare providers with language preferences
- **riskAssessments**: Risk assessment results and recommendations

All content tables use JSONB fields for multilingual support, storing content in multiple languages (English, Hindi, Bengali, Punjabi, Tamil, Telugu, Urdu).

### Content Management
- Dynamic content sections organized by categories (overview, prevention, nutrition, exercise, treatment, resources)
- Multilingual content stored in JSONB format
- Search functionality across resources with language filtering
- Tagged resource system for better organization

### User Features
- **Risk Assessment Tool**: Interactive questionnaire to evaluate osteoporosis risk
- **Healthcare Provider Directory**: Searchable directory with language preferences
- **Resource Library**: Educational materials with multilingual support
- **Language Switcher**: Support for 7 languages with automatic browser detection

## Data Flow

1. **Client Requests**: React components make API calls using TanStack Query
2. **Server Processing**: Express routes handle requests and interact with the database
3. **Database Operations**: Drizzle ORM manages PostgreSQL operations
4. **Response Handling**: JSON responses with proper error handling and logging
5. **Client Updates**: TanStack Query manages caching and UI updates

### API Endpoints
- `GET /api/content-sections` - Retrieve content sections with optional category filtering
- `GET /api/resources` - Retrieve resources with category and type filtering
- `GET /api/resources/search` - Search resources with language support
- `GET /api/healthcare-providers` - Retrieve healthcare providers with language filtering
- `POST /api/risk-assessments` - Create risk assessment results

## External Dependencies

### Frontend Dependencies
- **React Ecosystem**: React, React DOM, React Router (Wouter)
- **UI Libraries**: Radix UI components, Tailwind CSS, Lucide React icons
- **State Management**: TanStack Query for server state
- **Forms**: React Hook Form with Zod validation
- **Date Handling**: date-fns for date manipulation

### Backend Dependencies
- **Server Framework**: Express.js with middleware for JSON parsing
- **Database**: Drizzle ORM with PostgreSQL dialect
- **Validation**: Zod for schema validation
- **Session Management**: connect-pg-simple for PostgreSQL session storage
- **Development**: tsx for TypeScript execution, esbuild for production builds

### Development Tools
- **Build Tools**: Vite for frontend, esbuild for backend
- **TypeScript**: Full TypeScript support with strict configuration
- **Database Tools**: Drizzle Kit for migrations and schema management
- **Replit Integration**: Replit-specific plugins and development banner

## Deployment Strategy

### Development Environment
- **Frontend**: Vite dev server with HMR (Hot Module Replacement)
- **Backend**: tsx for TypeScript execution with auto-restart
- **Database**: Development database with push-based schema updates

### Production Build
- **Frontend**: Vite build process generates optimized static assets
- **Backend**: esbuild bundles server code into a single ESM file
- **Database**: Migration-based schema management for production

### Environment Configuration
- **Database**: PostgreSQL connection via `DATABASE_URL` environment variable
- **Build Process**: Separate build commands for frontend and backend
- **Static Assets**: Frontend assets served from `dist/public` directory

### Key Architectural Decisions

1. **Monorepo Structure**: Chose to keep frontend, backend, and shared code in a single repository for easier development and deployment
2. **Multilingual JSONB Storage**: Using PostgreSQL JSONB for multilingual content provides flexibility and performance for content queries
3. **Drizzle ORM**: Selected for type-safe database operations and excellent TypeScript integration
4. **TanStack Query**: Chosen for robust client-side state management with caching and synchronization
5. **Tailwind + shadcn/ui**: Provides consistent design system with accessibility features built-in
6. **Vite + Express**: Combines fast frontend development with flexible backend API structure

The application is designed to be scalable, maintainable, and user-friendly, with particular attention to multilingual support and healthcare-specific requirements.

## Simple JSON Translation System (Added July 30, 2025)

### Overview
Implemented a user-friendly JSON-based translation system to complement the existing React Context translation system. This provides a simple way for non-technical users to manage translations manually.

### Key Components
- **Translation Files**: `client/translations/en.json` and `client/translations/hi.json` - Simple JSON files for storing translations
- **Simple Translation Hook**: `client/src/hooks/use-simple-translations.tsx` - React hook for accessing JSON translations  
- **Language Loader Script**: `client/src/lib/simple-translations.js` - Vanilla JavaScript loader for HTML pages
- **Demo Components**: Simple language switcher and translation examples
- **Documentation**: Comprehensive `TRANSLATION_GUIDE.md` with step-by-step instructions

### Benefits
- **Easy Editing**: Non-technical users can edit JSON files directly
- **Manual Control**: Full control over translations without automation
- **Dual System**: Works alongside existing React translation system
- **HTML Support**: Can be used in plain HTML files with data-i18n attributes
- **React Integration**: React hook available for component-based usage

### Usage Examples
- **HTML**: `<h1 data-i18n="hero.title">Early Detection Saves Lives</h1>`
- **React**: `{t('hero.title', 'Early Detection Saves Lives')}`
- **Demo Page**: Available at `/demo/simple-translations`

## Translation Management System (Added July 30, 2025)

### Overview
Implemented a comprehensive multilingual content management system to avoid Google Cloud Translation API costs while providing manual translation capabilities and user-friendly translation assistance.

### Key Components

#### Database Schema Extensions
- **translationKeys**: Master table for source texts requiring translation
- **translations**: Individual translations for each language/key combination  
- **translationProjects**: Organization system for grouping translations

#### Admin Interface
- **AdminDashboard** (`/admin/translations`): Central management interface with statistics and language progress tracking
- **TranslationKeyForm** (`/admin/translations/keys/:id`): Create and edit translation keys with inline translation management
- **TranslationImport** (`/admin/translations/import`): Bulk import/export functionality for JSON and CSV formats

#### User Features
- **GoogleTranslateWidget**: Floating widget providing instant Google Translate integration for page-level translation
- **Import/Export System**: Support for JSON and CSV translation file formats
- **Status Tracking**: Draft, pending, approved workflow for translation quality control

### Technical Implementation
- **Storage Layer**: Both in-memory (MemStorage) and database (DatabaseStorage) implementations
- **API Routes**: RESTful endpoints for CRUD operations on translations
- **Translation Workflow**: Support for translator notes, reviewer notes, and approval status
- **Language Support**: Full integration with existing 7-language system (English, Hindi, Bengali, Punjabi, Tamil, Telugu, Urdu)

### Benefits
- **Cost Savings**: Eliminates Google Cloud Translation API charges
- **Quality Control**: Manual translation review process ensures cultural sensitivity
- **Flexibility**: Easy bulk import/export for working with external translators
- **User Experience**: Google Translate widget provides instant assistance without database changes
- **Future-Ready**: Architecture designed to easily integrate paid translation APIs if needed

## Homepage Content Simplification (July 30, 2025)

### Overview
Streamlined the homepage by removing redundant and complex sections to focus on core functionality and improve user experience.

### Removed Sections
- **StrongHer Resources Section**: Entire tabbed interface with resource categories
- **Healthcare Providers Section**: Provider directory and listing functionality  
- **Navigation Tabs**: Removed 6-tab system (Overview, Prevention, Nutrition, Exercise, Treatment, Resources)
- **Featured Content Cards**: Understanding Osteoporosis, Prevention Strategies, and Nutrition Guide cards
- **Complex Resource Organization**: Multi-category resource browsing with inline previews

### Current Homepage Structure
- **Hero Section**: Clean gradient background with main messaging
- **Clinical Evidence**: Research-backed information section
- **Take Action Today**: Three primary action cards (Risk Assessment, Schedule Screening, Learn More)
- **Language Switcher**: Centralized FlagLanguageSwitcher component
- **Footer**: Company information and attributions

### Benefits
- **Simplified Navigation**: Reduced cognitive load for users
- **Focused User Journey**: Clear path to primary actions
- **Improved Performance**: Fewer components and API calls on homepage load
- **Better Mobile Experience**: Streamlined interface works better on smaller screens
- **Maintainability**: Easier to update and modify with fewer interconnected components